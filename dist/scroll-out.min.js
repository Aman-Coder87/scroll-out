var ScrollOut=function(){"use strict"
function S(e,t,n){return e<t?t:n<e?n:e}function T(e){return+(0<e)-+(e<0)}var e,t={}
function n(e){return"-"+e[0].toLowerCase()}function u(e){return t[e]||(t[e]=e.replace(/([A-Z])/g,n))}function r(e,t){return e&&0!==e.length?e.nodeName?[e]:[].slice.call(e[0].nodeName?e:(t||document.documentElement).querySelectorAll(e)):[]}function d(e,t){for(var n in t)n.indexOf("_")&&e.setAttribute("data-"+u(n),t[n])}var i=[]
function o(){i.slice().forEach(function(e){return e()}),e=i.length?requestAnimationFrame(o):0}function q(t){return i.push(t),e||o(),function(){!(i=i.filter(function(e){return e!==t})).length&&e&&(e=0,cancelAnimationFrame(e))}}function v(){}return function(L){var i,P,_,o=(L=L||{}).onChange||v,l=L.onHidden||v,c=L.onShown||v,s=L.onScroll||v,f=L.cssProps?(i=L.cssProps,function(e,t){for(var n in t)n.indexOf("_")&&(!0===i||i[n])&&e.style.setProperty("--"+u(n),(r=t[n],Math.round(1e4*r)/1e4))
var r}):v,e=L.scrollingElement,H=e?r(e)[0]:window,W=e?r(e)[0]:document.documentElement,x=!1,A={},O=[],y=q(C)
function t(){O=r(L.targets||"[data-scroll]",r(L.scope||W)[0]).map(function(e){return{element:e}})}function n(){var e=W.clientWidth,t=W.clientHeight,n=T(-P+(P=W.scrollLeft||window.pageXOffset)),r=T(-_+(_=W.scrollTop||window.pageYOffset)),i=W.scrollLeft/(W.scrollWidth-e||1),o=W.scrollTop/(W.scrollHeight-t||1)
x=x||A.scrollDirX!==n||A.scrollDirY!==r||A.scrollPercentX!==i||A.scrollPercentY!==o,A.scrollDirX=n,A.scrollDirY=r,A.scrollPercentX=i,A.scrollPercentY=o
for(var l=!1,c=0;c<O.length;c++){for(var s=O[c],f=s.element,a=f,u=0,d=0;u+=a.offsetLeft,d+=a.offsetTop,(a=a.offsetParent)&&a!==H;);var v=f.clientHeight||f.offsetHeight||0,h=f.clientWidth||f.offsetWidth||0,g=(S(u+h,P,P+e)-S(u,P,P+e))/h,m=(S(d+v,_,_+t)-S(d,_,_+t))/v,p=1===g?0:T(u-P),w=1===m?0:T(d-_),X=S((P-(h/2+u-e/2))/(e/2),-1,1),Y=S((_-(v/2+d-t/2))/(t/2),-1,1),b=void 0
if(L.offset){var D="function"==typeof L.offset?L.offset():L.offset
b=_<D?0:1}else b=(L.threshold||0)<g*m?1:0
var E=s.visible!==b;(s._changed||E||s.visibleX!==g||s.visibleY!==m||s.index!==c||s.elementHeight!==v||s.elementWidth!==h||s.offsetX!==u||s.offsetY!==d||s.intersectX!=s.intersectX||s.intersectY!=s.intersectY||s.viewportX!==X||s.viewportY!==Y)&&(l=!0,s._changed=!0,s._visibleChanged=E,s.visible=b,s.elementHeight=v,s.elementWidth=h,s.index=c,s.offsetX=u,s.offsetY=d,s.visibleX=g,s.visibleY=m,s.intersectX=p,s.intersectY=w,s.viewportX=X,s.viewportY=Y,s.visible=b)}y||!x&&!l||(y=q(C))}function C(){a(),x&&(x=!1,d(W,{scrollDirX:A.scrollDirX,scrollDirY:A.scrollDirY}),f(W,A),s(W,A,O))
for(var e=O.length-1;-1<e;e--){var t=O[e],n=t.element,r=t.visible
t._changed&&(t._changed=!1,f(n,t)),t._visibleChanged&&(d(n,{scroll:r?"in":"out"}),o(n,t,W),(r?c:l)(n,t,W)),r&&L.once&&O.splice(e,1)}}function a(){y&&(y(),y=void 0)}return t(),n(),window.addEventListener("resize",n),H.addEventListener("scroll",n),{index:t,update:n,teardown:function(){a(),window.removeEventListener("resize",n),H.removeEventListener("scroll",n)}}}}()
